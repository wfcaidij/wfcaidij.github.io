---
title: 寄存器（内存访问）
date: 2019-08-31 08:17:47
categories: 汇编
tags:
---
1. CPU中用16位寄存器来存储一个字，高8位存放高位字节，低8位存放低位字节。在内存中存储时，由于内存单元是字节单元（一个单元存放一个字节），则一个字要用两个地址连续的内存单元来存放，这个字的低位字节存放在低地址单元中，高位字节存放在高地址单元中。

2. 8086CPU中有DS寄存器，通常用来存放要访问数据的段地址，可以使用mov指令将一个内存单元中的内容送入一个寄存器中，例如：mov bx,1000H    mov ds,bx   mov al,[0] ，指令的格式是：mov  寄存器名 ，内存单元地址。"[ ...]"表示一个内存单元，“[....]”中的0表示内存单元的偏移地址

3. 8086CPU不支持将数据直接送入段寄存器的操作，ds是一个段寄存器，所以 mov ds,1000H这条指令是非法的，只能用一个寄存器来进行中转，先将1000H送入一个一般寄存器，再将寄存器的内容送入ds 中

4. mov 指令可以有以下几种形式

    mov 寄存器，数据    比如：mov ax,8

    mov 寄存器，寄存器    比如：mov ax,bx

    mov 寄存器，内存单元    比如：mov ax,[0]

    mov 内存单元，寄存器    比如：mov [0],ax

    mov 段寄存器，寄存器    比如：mov ds,ax

5. add 和 sub指令有以下几种形式

    add 寄存器，数据    比如：add ax,8

    add 寄存器，寄存器    比如：add ax,bx

    add 寄存器，内存单元    比如：add ax,[0]

    add 内存单元，寄存器    比如：add [0],ax

    sub 寄存器，数据    比如：sub ax,9

    sub 寄存器，寄存器    比如：sub ax,bx

    sub 寄存器，内存单元    比如：sub ax,[0]

    sub 内存单元，寄存器    比如：sub [0],ax

6. 8086CPU提供栈操作机制，在SS、SP中存放栈顶的段地址和偏移地址，提供入栈和出栈指令，它们根据SS:SP指示的地址，按照栈的方式访问内存单元

7. push指令的执行步骤：（1）SP=SP-2  （2）向SS:SP指向的字单元中送入数据

    指令格式为：push 寄存器      将一个寄存器中的数据入栈

8. pop指令的执行步骤：（1）从SS:SP指向的字单元中读取数据 （2）SP=SP+2

    指令格式为：pop 寄存器        出栈，用一个寄存器接收出栈的数据

9. 任意时刻，SS:SP指向栈顶元素

10  8086CPU只记录栈顶，占空间的大小我们要自己管理

11  用栈来暂存以后需要恢复的寄存器的内容时，寄存器出栈的顺序要和入栈顺序相反

12  push、pop实质上是一种内存传送指令